<%@ page contentType="text/html; charset=UTF-8" pageEncoding="UTF-8"%>
<%@ taglib uri="http://java.sun.com/jsp/jstl/core" prefix="c"%>
<%@ taglib prefix="form" uri="http://www.springframework.org/tags/form"%>
<!DOCTYPE html>
<html lang="sr">
<head>
<meta charset="UTF-8" />
<title>Dodaj događaj</title>
<style>
body {
	font-family: 'Inter', sans-serif;
	background: #f5f7fa;
	margin: 0;
	padding: 0;
	display: flex;
	justify-content: center;
	align-items: center;
	height: 100vh;
	flex-direction: column;
	gap: 20px;
}

form {
	background: white;
	padding: 40px 50px;
	border-radius: 12px;
	box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
	width: 380px;
}

h1 {
	margin-bottom: 30px;
	font-weight: 600;
	font-size: 28px;
	color: #222f3e;
	text-align: center;
}

label {
	display: block;
	margin-bottom: 8px;
	font-weight: 600;
	color: #57606f;
	font-size: 14px;
}

input[type="text"], textarea, input[type="date"], select {
	width: 100%;
	padding: 12px 14px;
	border: 1.8px solid #ced6e0;
	border-radius: 8px;
	font-size: 15px;
	margin-bottom: 20px;
	transition: border-color 0.3s ease;
}

input[type="text"]:focus, textarea:focus, input[type="date"]:focus,
	select:focus {
	outline: none;
	border-color: #3742fa;
	box-shadow: 0 0 8px rgba(55, 66, 250, 0.3);
}

textarea {
	resize: vertical;
	min-height: 90px;
}

.row {
	display: flex;
	gap: 10px;
	margin-bottom: 20px;
}

.row select {
	flex: 1;
}

.row a {
	display: inline-block;
	padding: 12px 14px;
	background: #2ed573;
	color: white;
	border-radius: 8px;
	text-align: center;
	font-weight: 600;
	font-size: 14px;
	text-decoration: none;
	transition: background 0.25s ease;
}

.row a:hover {
	background: #27ae60;
}

button {
	width: 100%;
	padding: 14px 0;
	background: #3742fa;
	border: none;
	border-radius: 10px;
	color: white;
	font-size: 17px;
	font-weight: 600;
	cursor: pointer;
	transition: background 0.25s ease;
}

button:hover {
	background: #2f37e6;
}

.back-btn {
	width: 200px;
	padding: 12px 0;
	background: #6c757d;
	border: none;
	border-radius: 10px;
	color: white;
	font-size: 16px;
	font-weight: 600;
	cursor: pointer;
	transition: background 0.25s ease;
}

.back-btn:hover {
	background: #5a6268;
}

.error {
	color: red;
	font-size: 0.9rem;
	margin-top: -15px;
	margin-bottom: 15px;
	display: block;
}
</style>
</head>
<body>
	<form:form action="/Dogadjaji/dogadjajController/sacuvaj" method="post"
		modelAttribute="dogadjajDTO">
		<h1>Dodaj događaj</h1>

		<label for="naziv">Naziv događaja</label>
		<form:input path="naziv" id="naziv"
			placeholder="Unesite naziv događaja" />
		<form:errors path="naziv" cssClass="error" />

		<label for="opis">Opis događaja</label>
		<form:textarea path="opis" id="opis"
			placeholder="Unesite opis događaja" />
		<form:errors path="opis" cssClass="error" />

		<label for="datum">Datum održavanja</label>
		<form:input path="datum" id="datum" type="date" />
		<form:errors path="datum" cssClass="error" />

		<label for="kategorija">Kategorija događaja</label>
		<div class="row">
			<form:select path="kategorijaId" id="kategorija">
				<form:options items="${kategorije}" itemValue="idKategorija"
					itemLabel="naziv" />
			</form:select>
			<a href="/Dogadjaji/dogadjajController/dodajKategoriju">Dodaj
				kategoriju</a>
		</div>

		<button type="submit">Sačuvaj</button>
	</form:form>

	<!-- Dugme izvan forme -->
	<form action="/Dogadjaji/loginController/korisnikHome" method="get">
		<button type="submit" class="back-btn">Nazad na početnu</button>
	</form>
</body>
</html>
